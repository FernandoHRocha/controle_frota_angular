<mat-card
class="card"
[class.mat-elevation-z4]=card
(mouseover)="card = true"
(mouseout)="card = false">
    <mat-card-title>
        Frota: <span class="frota">{{vehicle.frota}}</span>
        Placa: <span class="placa">{{vehicle.placa | uppercase}}</span>
    </mat-card-title>
    <mat-card-subtitle>
        Hodômetro {{vehicle.hodometro ? vehicle.hodometro : 0}} Km
    </mat-card-subtitle>
    <mat-card-content class="actions">
        <mat-accordion>
            <mat-expansion-panel>
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        Registrar Abastecimento
                    </mat-panel-title>
                </mat-expansion-panel-header>
                {{ form.valid }}
                {{ form.value | json }}
                <form #form='ngForm' novalidate>
                    <div id="abastecimento">
                        <mat-form-field>
                            <mat-label>Hodômetro</mat-label>
                            <input matInput type="number" [(ngModel)]=hodometro ngModel name="hodometro" [formControl]="hodometroFormControl">
                            <mat-hint align="start"><strong>Kilometragem ao abastecer</strong></mat-hint>
                            <mat-error *ngIf="hodometroFormControl.hasError('min')">
                                Precisa ser <strong>maior</strong> que a atual.
                            </mat-error>
                            <mat-error *ngIf="hodometroFormControl.hasError('required')">
                                Campo <strong>obrigatório.</strong>
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Combustível</mat-label>
                            <input
                            matInput
                            type="number"
                            ngModel
                            name="volume"
                            [(ngModel)]=volume
                            [formControl]="fuelFormControl">
                            <mat-hint align="start"><strong>Volume de combustível</strong></mat-hint>
                            <mat-error *ngIf="fuelFormControl.hasError('min')">
                                Precisa ser <strong>maior</strong> que a atual.
                            </mat-error>
                            <mat-error *ngIf="fuelFormControl.hasError('required')">
                                Campo <strong>obrigatório.</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                </form>
                <div
                class="botoesConfirmacao"
                *ngIf="!fuelFormControl.hasError('min') && !fuelFormControl.hasError('required')
                         && !hodometroFormControl.hasError('min') && !hodometroFormControl.hasError('required')">
                    <button
                    mat-button
                    (click)=abastecerFrota()
                    >Confirmar</button>
                </div>
            </mat-expansion-panel>
            <mat-expansion-panel>
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        Registrar Manutenção
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <p>Formulário de manutenção.</p>
                <div class="botoesConfirmacao">
                    <button mat-button>Confirmar</button>
                </div>
            </mat-expansion-panel>
            <mat-expansion-panel>
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        Excluir o veículo
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <div class="botoesConfirmacao">
                    <button mat-button>Confirmar</button>
                </div>
            </mat-expansion-panel>
        </mat-accordion>
    </mat-card-content>
</mat-card>